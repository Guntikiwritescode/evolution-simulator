(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1559:function(e,t,r){Promise.resolve().then(r.bind(r,99334))},99334:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ed}});var n=r(57437),a=r(2265),s=r(5194),i=r(1780),o=r(33583);function l(e,t){switch(t.type){case"START":return{status:"running",progress:null,results:null,error:null};case"PROGRESS":return(0,i._)((0,s._)({},e),{progress:t.data});case"COMPLETE":return(0,i._)((0,s._)({},e),{status:"complete",results:t.data});case"ERROR":return(0,i._)((0,s._)({},e),{status:"error",error:t.error});case"CANCEL":case"CANCELLED":return(0,i._)((0,s._)({},e),{status:"cancelled"});default:return e}}var c={status:"idle",progress:null,results:null,error:null},d=(0,a.createContext)(null);function x(e){var t,s,i,x,u,h,m,f,p,g=e.children,y=(s=(t=(0,o._)((0,a.useReducer)(l,c),2))[0],i=t[1],f=(x={onProgress:function(e){return i({type:"PROGRESS",data:e})},onComplete:function(e){return i({type:"COMPLETE",data:e})},onError:function(e){return i({type:"ERROR",error:e})},onCancelled:function(){return i({type:"CANCELLED"})}},u=(0,a.useRef)(null),(h=(0,a.useRef)(x)).current=x,(0,a.useEffect)(function(){return function(){var e;null===(e=u.current)||void 0===e||e.terminate()}},[]),m={start:(0,a.useCallback)(function(e){null===(t=u.current)||void 0===t||t.terminate();var t,n=new Worker(r.tu(new URL(r.p+r.u(666),r.b)));u.current=n,n.onmessage=function(e){var t=e.data;switch(t.type){case"progress":h.current.onProgress(t.data);break;case"complete":h.current.onComplete(t.data);break;case"error":h.current.onError(t.error);break;case"cancelled":h.current.onCancelled()}},n.onerror=function(e){h.current.onError(e.message||"Worker error")},n.postMessage({type:"start",config:e})},[]),cancel:(0,a.useCallback)(function(){var e;null===(e=u.current)||void 0===e||e.postMessage({type:"cancel"})},[])}).start,p=m.cancel,{state:s,start:(0,a.useCallback)(function(e){i({type:"START"}),f(e)},[f]),cancel:(0,a.useCallback)(function(){i({type:"CANCEL"}),p()},[p])});return(0,n.jsx)(d.Provider,{value:y,children:g})}function u(){var e=(0,a.useContext)(d);if(!e)throw Error("useExperimentContext must be used within ExperimentProvider");return e}var h=r(40521);function m(){return(0,n.jsxs)(h.E.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center py-16 px-6",children:[(0,n.jsx)("p",{className:"text-xs font-mono tracking-[0.3em] text-text-muted uppercase mb-6",children:"Companion Experiment"}),(0,n.jsxs)("h1",{className:"font-serif text-4xl md:text-5xl font-light text-text-primary leading-tight mb-4",children:["Evolutionary Adaptation",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-text-secondary",children:"vs."})," ","Static Optimization"]}),(0,n.jsx)("p",{className:"font-serif text-lg text-text-secondary mt-6 mb-2 italic",children:"Companion experiment for “Evolving (Artificial) Intelligence”"}),(0,n.jsx)("p",{className:"text-sm font-sans text-text-muted",children:"by Abhinav R. Guntaka"}),(0,n.jsx)("div",{className:"mt-10 max-w-2xl mx-auto text-left",children:(0,n.jsx)("p",{className:"text-sm leading-relaxed text-text-secondary font-sans",children:"This experiment provides small-scale empirical evidence that evolutionary selection produces agents which are more robust to environmental change than agents found through exhaustive parameter optimization. We compare two methods—evolutionary training (ET) and grid search optimization (GS)—across a baseline and a shifted environment, measuring fitness, diversity, and generalization capacity across 30 independent replications."})})]})}var f=r(48614);function p(e){var t=e.title,r=e.defaultOpen,s=e.children,i=(0,o._)((0,a.useState)(void 0!==r&&r),2),l=i[0],c=i[1];return(0,n.jsxs)("div",{className:"border border-bg-tertiary rounded-lg overflow-hidden",children:[(0,n.jsxs)("button",{onClick:function(){return c(!l)},className:"w-full px-6 py-4 flex items-center justify-between text-left bg-bg-secondary hover:bg-bg-tertiary transition-colors",children:[(0,n.jsx)("span",{className:"font-serif text-lg text-text-primary",children:t}),(0,n.jsx)(h.E.span,{animate:{rotate:l?180:0},transition:{duration:.2},className:"text-text-muted",children:"▾"})]}),(0,n.jsx)(f.M,{children:l&&(0,n.jsx)(h.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"overflow-hidden",children:(0,n.jsx)("div",{className:"px-6 py-4 border-t border-bg-tertiary",children:s})})})]})}var g={initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5}};function y(){return(0,n.jsxs)(h.E.section,(0,i._)((0,s._)({},g),{className:"max-w-4xl mx-auto px-6 py-12",children:[(0,n.jsx)("h2",{className:"font-serif text-2xl text-text-primary mb-8 border-b border-bg-tertiary pb-3",children:"Methodology"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(p,{title:"Experimental Conditions",defaultOpen:!0,children:(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h3",{className:"font-sans text-sm font-semibold text-accent-et",children:"Condition A — Evolutionary Training (ET)"}),(0,n.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:"A population of 50 creatures begins with default traits (speed=10, size=10, senseRange=20, variance=0.5). They evolve for 50 generations through natural selection: creatures that eat ≥2 food reproduce with Gaussian mutation, those that eat ≥1 survive, those that eat 0 die."})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h3",{className:"font-sans text-sm font-semibold text-accent-gs",children:"Condition B — Grid Search Optimization (GS)"}),(0,n.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:"Systematically evaluate 216 trait combinations (speed, size, senseRange) on a grid. Deploy the best-performing configuration as 50 identical clones with zero mutation variance for 50 generations. Offspring are exact copies of parents."})]})]})}),(0,n.jsx)(p,{title:"Experimental Flow",children:(0,n.jsx)("div",{className:"py-4",children:(0,n.jsxs)("svg",{viewBox:"0 0 800 200",className:"w-full max-w-2xl mx-auto","aria-label":"Experimental flow diagram",children:[(0,n.jsx)("text",{x:"10",y:"45",className:"fill-[#e5e5e5] text-xs font-mono",fontSize:"12",children:"ET:"}),(0,n.jsx)("rect",{x:"50",y:"25",width:"130",height:"35",rx:"4",fill:"none",stroke:"#0072B2",strokeWidth:"1.5"}),(0,n.jsx)("text",{x:"115",y:"47",textAnchor:"middle",fill:"#0072B2",fontSize:"11",fontFamily:"IBM Plex Mono",children:"Default Agents"}),(0,n.jsx)("line",{x1:"180",y1:"42",x2:"220",y2:"42",stroke:"#555",strokeWidth:"1"}),(0,n.jsx)("polygon",{points:"218,38 226,42 218,46",fill:"#555"}),(0,n.jsx)("rect",{x:"226",y:"25",width:"180",height:"35",rx:"4",fill:"none",stroke:"#0072B2",strokeWidth:"1.5"}),(0,n.jsx)("text",{x:"316",y:"47",textAnchor:"middle",fill:"#0072B2",fontSize:"11",fontFamily:"IBM Plex Mono",children:"50 gen evolution (Env1)"}),(0,n.jsx)("line",{x1:"406",y1:"42",x2:"446",y2:"42",stroke:"#555",strokeWidth:"1"}),(0,n.jsx)("polygon",{points:"444,38 452,42 444,46",fill:"#555"}),(0,n.jsx)("rect",{x:"452",y:"25",width:"200",height:"35",rx:"4",fill:"none",stroke:"#0072B2",strokeWidth:"1.5"}),(0,n.jsx)("text",{x:"552",y:"47",textAnchor:"middle",fill:"#0072B2",fontSize:"11",fontFamily:"IBM Plex Mono",children:"25 gen transfer (Env2)"}),(0,n.jsx)("text",{x:"10",y:"145",className:"fill-[#e5e5e5] text-xs font-mono",fontSize:"12",children:"GS:"}),(0,n.jsx)("rect",{x:"50",y:"120",width:"130",height:"35",rx:"4",fill:"none",stroke:"#E69F00",strokeWidth:"1.5"}),(0,n.jsx)("text",{x:"115",y:"142",textAnchor:"middle",fill:"#E69F00",fontSize:"11",fontFamily:"IBM Plex Mono",children:"Grid Search 216"}),(0,n.jsx)("line",{x1:"180",y1:"137",x2:"220",y2:"137",stroke:"#555",strokeWidth:"1"}),(0,n.jsx)("polygon",{points:"218,133 226,137 218,141",fill:"#555"}),(0,n.jsx)("rect",{x:"226",y:"120",width:"180",height:"35",rx:"4",fill:"none",stroke:"#E69F00",strokeWidth:"1.5"}),(0,n.jsx)("text",{x:"316",y:"142",textAnchor:"middle",fill:"#E69F00",fontSize:"11",fontFamily:"IBM Plex Mono",children:"Best clones 50 gen (Env1)"}),(0,n.jsx)("line",{x1:"406",y1:"137",x2:"446",y2:"137",stroke:"#555",strokeWidth:"1"}),(0,n.jsx)("polygon",{points:"444,133 452,137 444,141",fill:"#555"}),(0,n.jsx)("rect",{x:"452",y:"120",width:"200",height:"35",rx:"4",fill:"none",stroke:"#E69F00",strokeWidth:"1.5"}),(0,n.jsx)("text",{x:"552",y:"142",textAnchor:"middle",fill:"#E69F00",fontSize:"11",fontFamily:"IBM Plex Mono",children:"25 gen transfer (Env2)"})]})})}),(0,n.jsx)(p,{title:"Hypotheses",children:(0,n.jsxs)("ul",{className:"space-y-3 text-sm text-text-secondary",children:[(0,n.jsxs)("li",{className:"flex gap-3",children:[(0,n.jsx)("span",{className:"font-mono text-text-muted shrink-0",children:"H₁"}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{className:"text-text-primary",children:"Efficiency:"})," By generation 50, ET achieves per-agent food consumption not statistically inferior to GS (α=0.05)."]})]}),(0,n.jsxs)("li",{className:"flex gap-3",children:[(0,n.jsx)("span",{className:"font-mono text-text-muted shrink-0",children:"H₂"}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{className:"text-text-primary",children:"Generalization:"})," In the transfer phase, ET shows a significantly smaller fitness drop than GS (two-sided t-test, α=0.05)."]})]}),(0,n.jsxs)("li",{className:"flex gap-3",children:[(0,n.jsx)("span",{className:"font-mono text-text-muted shrink-0",children:"H₃"}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{className:"text-text-primary",children:"Diversity:"})," ET maintains significantly higher trait diversity throughout (α=0.05)."]})]}),(0,n.jsxs)("li",{className:"flex gap-3",children:[(0,n.jsx)("span",{className:"font-mono text-text-muted shrink-0",children:"H₄"}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{className:"text-text-primary",children:"Adaptation:"})," Over the 25 transfer generations, ET fitness shows a positive trend while GS shows flat or negative."]})]})]})}),(0,n.jsx)(p,{title:"Environments",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full text-sm font-mono",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary text-text-muted",children:[(0,n.jsx)("th",{className:"text-left py-2 pr-4",children:"Parameter"}),(0,n.jsx)("th",{className:"text-right py-2 px-4",children:"Env 1 (Baseline)"}),(0,n.jsx)("th",{className:"text-right py-2 pl-4",children:"Env 2 (Shifted)"})]})}),(0,n.jsxs)("tbody",{className:"text-text-secondary",children:[(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"World Size"}),(0,n.jsx)("td",{className:"text-right px-4",children:"500 \xd7 500"}),(0,n.jsx)("td",{className:"text-right pl-4",children:"800 \xd7 800"})]}),(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"Food / Generation"}),(0,n.jsx)("td",{className:"text-right px-4",children:"50"}),(0,n.jsx)("td",{className:"text-right pl-4",children:"30"})]}),(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"Enabled Edges"}),(0,n.jsx)("td",{className:"text-right px-4",children:"4 (all)"}),(0,n.jsx)("td",{className:"text-right pl-4",children:"2 (edges 0, 1)"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"Cannibalism Ratio"}),(0,n.jsx)("td",{className:"text-right px-4",children:"0.8"}),(0,n.jsx)("td",{className:"text-right pl-4",children:"0.8"})]})]})]})})}),(0,n.jsx)(p,{title:"Experiment Parameters",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full text-sm font-mono",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary text-text-muted",children:[(0,n.jsx)("th",{className:"text-left py-2 pr-4",children:"Parameter"}),(0,n.jsx)("th",{className:"text-right py-2 px-4",children:"Value"}),(0,n.jsx)("th",{className:"text-left py-2 pl-4",children:"Justification"})]})}),(0,n.jsxs)("tbody",{className:"text-text-secondary",children:[(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"G (training gen)"}),(0,n.jsx)("td",{className:"text-right px-4",children:"50"}),(0,n.jsx)("td",{className:"pl-4 text-xs",children:"Sufficient for trait convergence"})]}),(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"N_RUNS"}),(0,n.jsx)("td",{className:"text-right px-4",children:"30"}),(0,n.jsx)("td",{className:"pl-4 text-xs",children:"Standard for parametric tests"})]}),(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"Population"}),(0,n.jsx)("td",{className:"text-right px-4",children:"50"}),(0,n.jsx)("td",{className:"pl-4 text-xs",children:"Matches original simulator"})]}),(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"Seeds"}),(0,n.jsx)("td",{className:"text-right px-4",children:"1000–1029"}),(0,n.jsx)("td",{className:"pl-4 text-xs",children:"Sequential for reproducibility"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"py-2 pr-4",children:"Transfer gen"}),(0,n.jsx)("td",{className:"text-right px-4",children:"25"}),(0,n.jsx)("td",{className:"pl-4 text-xs",children:"Half of training period"})]})]})]})})})]})]}))}function b(e){var t=e.percent,r=e.color,a=e.label;return(0,n.jsxs)("div",{className:"w-full",children:[a&&(0,n.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,n.jsx)("span",{className:"text-xs font-mono text-text-secondary",children:a}),(0,n.jsxs)("span",{className:"text-xs font-mono text-text-secondary",children:[t.toFixed(1),"%"]})]}),(0,n.jsx)("div",{className:"w-full h-2 bg-bg-tertiary rounded-full overflow-hidden",children:(0,n.jsx)(h.E.div,{className:"h-full rounded-full",style:{backgroundColor:void 0===r?"#0072B2":r},initial:{width:0},animate:{width:"".concat(Math.min(100,t),"%")},transition:{duration:.3,ease:"easeOut"}})})]})}var j={"grid-search":"Grid Search (216 configurations)","et-training":"ET Training (Environment 1)","gs-training":"GS Training (Environment 1)","et-transfer":"ET Transfer (Environment 2)","gs-transfer":"GS Transfer (Environment 2)"};function v(){var e,t,r=u(),a=r.state,s=r.start,i=r.cancel,o=a.status,l=a.progress;return(0,n.jsxs)(h.E.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-4xl mx-auto px-6 py-12",children:[(0,n.jsx)("h2",{className:"font-serif text-2xl text-text-primary mb-8 border-b border-bg-tertiary pb-3",children:"Run Experiment"}),(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-8",children:["idle"===o&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"The experiment will run 30 independent replications of each condition (ET and GS) across two environments. This typically takes 3–8 minutes depending on your device."}),(0,n.jsx)("button",{onClick:function(){return s()},className:"px-8 py-3 bg-accent-et text-white font-sans font-medium text-sm rounded-lg hover:bg-accent-etLight transition-colors focus:outline-none focus:ring-2 focus:ring-accent-et focus:ring-offset-2 focus:ring-offset-bg-primary",children:"Run Experiment"})]}),"running"===o&&l&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-sans text-sm font-medium text-text-primary",children:j[l.phase]||l.phase}),(0,n.jsxs)("p",{className:"font-mono text-xs text-text-muted mt-1",children:["Run ",l.currentRun," / ",l.totalRuns," \xb7 Generation ",l.currentGeneration," / ",l.totalGenerations]})]}),(0,n.jsx)("button",{onClick:i,className:"px-4 py-1.5 text-xs font-mono text-red-400 border border-red-400/30 rounded hover:bg-red-400/10 transition-colors",children:"Cancel"})]}),(0,n.jsx)(b,{percent:l.percentComplete,label:"Overall Progress"}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:["grid-search","et-training","et-transfer","gs-training","gs-transfer"].map(function(e){var t=l.phase===e,r=["grid-search","et-training","et-transfer","gs-training","gs-transfer"],a=r.indexOf(l.phase)>r.indexOf(e);return(0,n.jsx)("span",{className:"text-xs font-mono px-2 py-1 rounded ".concat(t?"bg-accent-et/20 text-accent-et":a?"bg-bg-tertiary text-text-muted line-through":"bg-bg-tertiary/50 text-text-muted"),children:e.replace("-"," ")},e)})})]}),"running"===o&&!l&&(0,n.jsx)("div",{className:"text-center py-4",children:(0,n.jsx)("p",{className:"text-sm text-text-secondary",children:"Initializing simulation worker..."})}),"complete"===o&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("p",{className:"text-sm text-green-400 mb-4",children:["Experiment completed successfully in"," ",(0,n.jsxs)("span",{className:"font-mono",children:[((null!==(t=null===(e=a.results)||void 0===e?void 0:e.wallClockMs)&&void 0!==t?t:0)/1e3).toFixed(1),"s"]})]}),(0,n.jsx)("button",{onClick:function(){return s()},className:"px-6 py-2 text-xs font-mono text-text-muted border border-bg-tertiary rounded hover:bg-bg-tertiary transition-colors",children:"Re-run Experiment"})]}),"cancelled"===o&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-sm text-text-muted mb-4",children:"Experiment was cancelled."}),(0,n.jsx)("button",{onClick:function(){return s()},className:"px-6 py-2 text-xs font-mono text-text-secondary border border-bg-tertiary rounded hover:bg-bg-tertiary transition-colors",children:"Start Again"})]}),"error"===o&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-sm text-red-400 mb-2",children:"An error occurred:"}),(0,n.jsx)("p",{className:"text-xs font-mono text-red-300/70 mb-4",children:a.error}),(0,n.jsx)("button",{onClick:function(){return s()},className:"px-6 py-2 text-xs font-mono text-text-secondary border border-bg-tertiary rounded hover:bg-bg-tertiary transition-colors",children:"Retry"})]})]})]})}var N=r(60076),S={1:12.706,2:4.303,3:3.182,4:2.776,5:2.571,6:2.447,7:2.365,8:2.306,9:2.262,10:2.228,11:2.201,12:2.179,13:2.16,14:2.145,15:2.131,16:2.12,17:2.11,18:2.101,19:2.093,20:2.086,21:2.08,22:2.074,23:2.069,24:2.064,25:2.06,26:2.056,27:2.052,28:2.048,29:2.045,30:2.042,40:2.021,50:2.009,60:2,80:1.99,100:1.984,120:1.98,1e3:1.962};function w(e){var t=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-w(1-e);e-=1;for(var r=.9999999999998099,n=1;n<9;n++)r+=t[n]/(e+n);var a=e+7+.5;return .5*Math.log(2*Math.PI)+(e+.5)*Math.log(a)-a+Math.log(r)}function k(e){var t=e.length;if(0===t)return{mean:0,sd:0,ci95Lower:0,ci95Upper:0,n:0};var r=e.reduce(function(e,t){return e+t},0)/t,n=Math.sqrt(t>1?e.reduce(function(e,t){return e+Math.pow(t-r,2)},0)/(t-1):0),a=function(e){var t=Math.round(e);if(void 0!==S[t])return S[t];for(var r=Object.keys(S).map(Number).sort(function(e,t){return e-t}),n=r[0],a=r[r.length-1],s=0;s<r.length-1;s++)if(r[s]<=t&&r[s+1]>=t){n=r[s],a=r[s+1];break}var i=S[n],o=S[a];return n===a?i:i+(t-n)/(a-n)*(o-i)}(Math.max(1,t-1)),s=n/Math.sqrt(t);return{mean:r,sd:n,ci95Lower:r-a*s,ci95Upper:r+a*s,n:t}}function E(e,t){var r,n,a,s,i,o,l,c,d,x,u,h,m,f;return{etStats:k(e),gsStats:k(t),tTest:(r=e.length,n=t.length,a=e.reduce(function(e,t){return e+t},0)/r,s=t.reduce(function(e,t){return e+t},0)/n,c=(l=Math.sqrt((i=r>1?e.reduce(function(e,t){return e+Math.pow(t-a,2)},0)/(r-1):0)/r+(o=n>1?t.reduce(function(e,t){return e+Math.pow(t-s,2)},0)/(n-1):0)/n))>0?(a-s)/l:0,u=function(e,t,r){if(e<=0)return 0;if(e>=1)return 1;for(var n=w(t)+w(.5)-w(t+.5),a=Math.exp(Math.log(e)*t+Math.log(1-e)*r-n)/t,s=1,i=1,o=0,l=0;l<=200;l++){var c=Math.floor(l/2),d=void 0;if(1e-30>Math.abs(o=1+(d=0===l?1:l%2==0?c*(r-c)*e/((t+2*c-1)*(t+2*c)):-((t+c)*(t+r+c)*e)/((t+2*c)*(t+2*c+1)))*o)&&(o=1e-30),o=1/o,1e-30>Math.abs(i=1+d/i)&&(i=1e-30),s*=i*o,1e-8>Math.abs(i*o-1))break}return a*(s-1)}((x=(d=Math.pow(i/r,2)/(r-1)+Math.pow(o/n,2)/(n-1))>0?Math.pow(i/r+o/n,2)/d:1)/(x+c*c),x/2,.5),f=Math.abs(m=(h=Math.sqrt(((r-1)*i+(n-1)*o)/(r+n-2)))>0?(a-s)/h:0),{t:c,df:x,p:u,cohensD:m,interpretation:f<.2?"negligible":f<.5?"small":f<.8?"medium":"large"}),mannWhitney:function(e,t){var r,n,a,s=e.length,i=t.length,o=(0,N._)(e.map(function(e){return{value:e,group:0}})).concat((0,N._)(t.map(function(e){return{value:e,group:1}})));o.sort(function(e,t){return e.value-t.value});for(var l=Array(o.length),c=0;c<o.length;){for(var d=c;d<o.length&&o[d].value===o[c].value;)d++;for(var x=(c+1+d)/2,u=c;u<d;u++)l[u]=x;c=d}for(var h=0,m=0;m<o.length;m++)0===o[m].group&&(h+=l[m]);var f=h-s*(s+1)/2,p=Math.min(f,s*i-f),g=Math.sqrt(s*i*(s+i+1)/12),y=g>0?(p-s*i/2)/g:0,b=2*(a=1/(1+.3275911*(n=Math.abs(r=-Math.abs(y))/Math.sqrt(2))),.5*(1+(r<0?-1:1)*(1-((((1.061405429*a+-1.453152027)*a+1.421413741)*a+-.284496736)*a+.254829592)*a*Math.exp(-n*n))));return{U:p,z:y,p:b}}(e,t)}}function M(e,t,r){var n=new Map,a=!0,s=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value,d="training"===t?c.trainingMetrics:c.transferMetrics,x=!0,u=!1,h=void 0;try{for(var m,f=d[Symbol.iterator]();!(x=(m=f.next()).done);x=!0){var p=m.value;n.has(p.generation)||n.set(p.generation,[]),n.get(p.generation).push(r(p))}}catch(e){u=!0,h=e}finally{try{x||null==f.return||f.return()}finally{if(u)throw h}}}}catch(e){s=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw i}}return n}function R(e,t,r,n){var a=M(e,r,n),s=M(t,r,n),i=new Set((0,N._)(a.keys()).concat((0,N._)(s.keys())));return(0,N._)(i).sort(function(e,t){return e-t}).map(function(e){var t=k(a.get(e)||[]),r=k(s.get(e)||[]);return{generation:e,etMean:t.mean,etLower:t.ci95Lower,etUpper:t.ci95Upper,gsMean:r.mean,gsLower:r.ci95Lower,gsUpper:r.ci95Upper}})}function F(e,t,r,n){return e.map(function(e){var a="training"===t?e.trainingMetrics:e.transferMetrics;if(0===a.length)return 0;if(n){var s=a.slice(-n);return s.reduce(function(e,t){return e+r(t)},0)/s.length}return r(a[a.length-1])})}function T(e,t){return e.map(function(e){var r=e.trainingMetrics.slice(-5),n=e.transferMetrics.slice(0,5);return(r.length>0?r.reduce(function(e,r){return e+t(r)},0)/r.length:0)-(n.length>0?n.reduce(function(e,r){return e+t(r)},0)/n.length:0)})}function z(e){var t=0,r=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value,l=!0,c=!1,d=void 0;try{for(var x,u=o.trainingMetrics[Symbol.iterator]();!(l=(x=u.next()).done);l=!0){var h=x.value;t+=h.computationSteps}}catch(e){c=!0,d=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw d}}var m=!0,f=!1,p=void 0;try{for(var g,y=o.transferMetrics[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var b=g.value;t+=b.computationSteps}}catch(e){f=!0,p=e}finally{try{m||null==y.return||y.return()}finally{if(f)throw p}}}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return t}var B=r(47625),C=r(16488),G=r(56940),P=r(97059),I=r(62994),O=r(8147),_=r(22190),D=r(23263),L=r(54061);function K(e){var t=e.data,r=e.title,a=e.yLabel;return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:r}),(0,n.jsx)(B.h,{width:"100%",height:300,children:(0,n.jsxs)(C.c,{data:t,margin:{top:5,right:20,bottom:20,left:10},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{dataKey:"generation",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Generation",position:"insideBottom",offset:-10,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:void 0===a?"Mean Food Eaten / Agent":a,angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"},labelStyle:{color:"#a3a3a3"}}),(0,n.jsx)(_.D,{wrapperStyle:{fontSize:12,fontFamily:"IBM Plex Sans"}}),(0,n.jsx)(D.u,{dataKey:"etUpper",stroke:"none",fill:"#0072B2",fillOpacity:0,stackId:"et"}),(0,n.jsx)(D.u,{dataKey:"etLower",stroke:"none",fill:"#0072B2",fillOpacity:.12,stackId:"et"}),(0,n.jsx)(D.u,{dataKey:"gsUpper",stroke:"none",fill:"#E69F00",fillOpacity:0,stackId:"gs"}),(0,n.jsx)(D.u,{dataKey:"gsLower",stroke:"none",fill:"#E69F00",fillOpacity:.12,stackId:"gs"}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"etMean",name:"ET (Evolutionary)",stroke:"#0072B2",strokeWidth:2,dot:!1}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"gsMean",name:"GS (Grid Search)",stroke:"#E69F00",strokeWidth:2,dot:!1})]})})]})}function W(e){var t=e.data,r=e.title;return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:r}),(0,n.jsx)(B.h,{width:"100%",height:300,children:(0,n.jsxs)(C.c,{data:t,margin:{top:5,right:20,bottom:20,left:10},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{dataKey:"generation",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Generation",position:"insideBottom",offset:-10,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Population Size",angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"}}),(0,n.jsx)(_.D,{wrapperStyle:{fontSize:12,fontFamily:"IBM Plex Sans"}}),(0,n.jsx)(D.u,{dataKey:"etUpper",stroke:"none",fill:"#0072B2",fillOpacity:0,stackId:"et"}),(0,n.jsx)(D.u,{dataKey:"etLower",stroke:"none",fill:"#0072B2",fillOpacity:.12,stackId:"et"}),(0,n.jsx)(D.u,{dataKey:"gsUpper",stroke:"none",fill:"#E69F00",fillOpacity:0,stackId:"gs"}),(0,n.jsx)(D.u,{dataKey:"gsLower",stroke:"none",fill:"#E69F00",fillOpacity:.12,stackId:"gs"}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"etMean",name:"ET",stroke:"#0072B2",strokeWidth:2,dot:!1}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"gsMean",name:"GS",stroke:"#E69F00",strokeWidth:2,dot:!1})]})})]})}function A(e){var t=e.data,r=e.title;return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:r}),(0,n.jsx)(B.h,{width:"100%",height:300,children:(0,n.jsxs)(C.c,{data:t,margin:{top:5,right:20,bottom:20,left:10},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{dataKey:"generation",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Generation",position:"insideBottom",offset:-10,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Trait Diversity (CV\xb2 sum)",angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"}}),(0,n.jsx)(_.D,{wrapperStyle:{fontSize:12,fontFamily:"IBM Plex Sans"}}),(0,n.jsx)(D.u,{dataKey:"etUpper",stroke:"none",fill:"#0072B2",fillOpacity:0,stackId:"et"}),(0,n.jsx)(D.u,{dataKey:"etLower",stroke:"none",fill:"#0072B2",fillOpacity:.12,stackId:"et"}),(0,n.jsx)(D.u,{dataKey:"gsUpper",stroke:"none",fill:"#E69F00",fillOpacity:0,stackId:"gs"}),(0,n.jsx)(D.u,{dataKey:"gsLower",stroke:"none",fill:"#E69F00",fillOpacity:.12,stackId:"gs"}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"etMean",name:"ET",stroke:"#0072B2",strokeWidth:2,dot:!1}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"gsMean",name:"GS",stroke:"#E69F00",strokeWidth:2,dot:!1})]})})]})}var U=r(84962);function V(e){var t=e.data,r=e.trainingGens;return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:"Trait Evolution Over Time (ET Only)"}),(0,n.jsx)(B.h,{width:"100%",height:300,children:(0,n.jsxs)(C.c,{data:t,margin:{top:5,right:20,bottom:20,left:10},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{dataKey:"generation",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Generation",position:"insideBottom",offset:-10,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Trait Value",angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"}}),(0,n.jsx)(_.D,{wrapperStyle:{fontSize:12,fontFamily:"IBM Plex Sans"}}),(0,n.jsx)(U.d,{x:r,stroke:"#555",strokeDasharray:"5 5",label:{value:"Env Switch",position:"top",fill:"#737373",fontSize:10}}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"meanSpeed",name:"Speed",stroke:"#0072B2",strokeWidth:2,dot:!1}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"meanSize",name:"Size",stroke:"#E69F00",strokeWidth:2,dot:!1}),(0,n.jsx)(L.x,{type:"monotone",dataKey:"meanSenseRange",name:"Sense Range",stroke:"#009E73",strokeWidth:2,dot:!1})]})})]})}var q=r(77031),H=r(31699),J=r(20407),$=r(13137);function Q(e){var t=e.etGaps,r=e.gsGaps,a=k(t),s=k(r),i=[{name:"ET",gap:a.mean,error:a.ci95Upper-a.mean},{name:"GS",gap:s.mean,error:s.ci95Upper-s.mean}],o=["#0072B2","#E69F00"];return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:"Generalization Gap"}),(0,n.jsx)("p",{className:"text-xs text-text-muted mb-4 font-sans",children:"Mean fitness (last 5 gen Env1) − Mean fitness (first 5 gen Env2). Larger values indicate worse generalization."}),(0,n.jsx)(B.h,{width:"100%",height:250,children:(0,n.jsxs)(q.v,{data:i,margin:{top:10,right:30,bottom:20,left:20},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{dataKey:"name",tick:{fontSize:12,fontFamily:"IBM Plex Mono",fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Fitness Drop",angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"}}),(0,n.jsxs)(H.$,{dataKey:"gap",name:"Generalization Gap",radius:[4,4,0,0],children:[i.map(function(e,t){return(0,n.jsx)(J.b,{fill:o[t],fillOpacity:.8},t)}),(0,n.jsx)($.W,{dataKey:"error",width:4,strokeWidth:1.5,stroke:"#e5e5e5"})]})]})})]})}var X=r(13446),Y=r(46583);function Z(e){var t=e.etCreatures,r=e.gsCreatures,a=t.slice(0,200).map(function(e){return{speed:e.speed.value,senseRange:e.senseRange.value}}),s=r.slice(0,200).map(function(e){return{speed:e.speed.value,senseRange:e.senseRange.value}});return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:"Final Generation Trait Distribution"}),(0,n.jsx)("p",{className:"text-xs text-text-muted mb-4 font-sans",children:"Speed vs Sense Range for agents in the final generation (run 1). ET should show a dispersed cloud; GS a tight cluster."}),(0,n.jsx)(B.h,{width:"100%",height:300,children:(0,n.jsxs)(X.G,{margin:{top:10,right:20,bottom:20,left:10},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{type:"number",dataKey:"speed",name:"Speed",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Speed",position:"insideBottom",offset:-10,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{type:"number",dataKey:"senseRange",name:"Sense Range",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Sense Range",angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"},cursor:{strokeDasharray:"3 3"}}),(0,n.jsx)(_.D,{wrapperStyle:{fontSize:12,fontFamily:"IBM Plex Sans"}}),(0,n.jsx)(Y.b,{name:"ET",data:a,fill:"#0072B2",fillOpacity:.6,r:3}),(0,n.jsx)(Y.b,{name:"GS",data:s,fill:"#E69F00",fillOpacity:.8,r:4})]})})]})}function ee(e){var t=e.etSteps,r=e.gsSteps,a=[{name:"ET (Sim)",steps:t},{name:"GS (Search)",steps:e.gsSearchEvals},{name:"GS (Sim)",steps:r}],s=["#0072B2","#D55E00","#E69F00"];return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:"Computational Cost"}),(0,n.jsx)(B.h,{width:"100%",height:250,children:(0,n.jsxs)(q.v,{data:a,margin:{top:10,right:30,bottom:20,left:20},children:[(0,n.jsx)(G.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,n.jsx)(P.K,{dataKey:"name",tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#a3a3a3"}}),(0,n.jsx)(I.B,{tick:{fontSize:11,fontFamily:"IBM Plex Mono",fill:"#737373"},label:{value:"Total Steps",angle:-90,position:"insideLeft",offset:5,fontSize:11,fill:"#a3a3a3"},tickFormatter:function(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(0),"K"):String(e)}}),(0,n.jsx)(O.u,{contentStyle:{background:"#111",border:"1px solid #1a1a1a",borderRadius:6,fontSize:12,fontFamily:"IBM Plex Mono"},formatter:function(e){return e.toLocaleString()}}),(0,n.jsx)(H.$,{dataKey:"steps",name:"Steps",radius:[4,4,0,0],children:a.map(function(e,t){return(0,n.jsx)(J.b,{fill:s[t],fillOpacity:.8},t)})})]})})]})}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return isNaN(e)||!isFinite(e)?"—":e.toFixed(t)}function er(e,t){return"".concat(et(e)," \xb1 ").concat(et(t))}function en(e){var t=e.rows,r=e.title;return(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:[(0,n.jsx)("h3",{className:"font-serif text-base text-text-primary mb-4",children:void 0===r?"Statistical Summary":r}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full text-xs font-mono",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary text-text-muted",children:[(0,n.jsx)("th",{className:"text-left py-2 pr-3",children:"Metric"}),(0,n.jsx)("th",{className:"text-right py-2 px-2",children:"ET (M \xb1 SD)"}),(0,n.jsx)("th",{className:"text-right py-2 px-2",children:"GS (M \xb1 SD)"}),(0,n.jsx)("th",{className:"text-right py-2 px-2",children:"t"}),(0,n.jsx)("th",{className:"text-right py-2 px-2",children:"df"}),(0,n.jsx)("th",{className:"text-right py-2 px-2",children:"p"}),(0,n.jsx)("th",{className:"text-right py-2 px-2",children:"Cohen's d"}),(0,n.jsx)("th",{className:"text-left py-2 pl-2",children:"Interp."}),(0,n.jsx)("th",{className:"text-center py-2 pl-2",children:"Sig."})]})}),(0,n.jsx)("tbody",{className:"text-text-secondary",children:t.map(function(e,t){var r,a;return(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50 hover:bg-bg-tertiary/30 transition-colors",children:[(0,n.jsx)("td",{className:"py-2 pr-3 text-text-primary whitespace-nowrap",children:e.metric}),(0,n.jsx)("td",{className:"text-right py-2 px-2 whitespace-nowrap",children:er(e.result.etStats.mean,e.result.etStats.sd)}),(0,n.jsx)("td",{className:"text-right py-2 px-2 whitespace-nowrap",children:er(e.result.gsStats.mean,e.result.gsStats.sd)}),(0,n.jsx)("td",{className:"text-right py-2 px-2",children:et(e.result.tTest.t,3)}),(0,n.jsx)("td",{className:"text-right py-2 px-2",children:et(e.result.tTest.df,1)}),(0,n.jsx)("td",{className:"text-right py-2 px-2",children:(r=e.result.tTest.p)<.001?"< .001":r.toFixed(3)}),(0,n.jsx)("td",{className:"text-right py-2 px-2",children:et(e.result.tTest.cohensD,3)}),(0,n.jsx)("td",{className:"text-left py-2 pl-2 text-text-muted",children:e.result.tTest.interpretation}),(0,n.jsx)("td",{className:"text-center py-2 pl-2",children:(0,n.jsx)("span",{className:e.result.tTest.p<.05?"text-green-400":"text-text-muted",children:(a=e.result.tTest.p)<.001?"***":a<.01?"**":a<.05?"*":"ns"})})]},t)})})]})})]})}function ea(e){var t=e.results,r=(0,a.useMemo)(function(){var e,r,n,a,l=t.etRuns,c=t.gsRuns,d=t.config,x=R(l,c,"training",function(e){return e.meanFoodEaten}),u=R(l,c,"transfer",function(e){return e.meanFoodEaten}),h=R(l,c,"training",function(e){return e.population}),m=R(l,c,"transfer",function(e){return e.population}),f=R(l,c,"training",function(e){return e.traitDiversity}),p=R(l,c,"transfer",function(e){return e.traitDiversity}),g=function(e){var t=new Map,r=!0,n=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)!function(){var e=l.value,r=(0,N._)(e.trainingMetrics).concat((0,N._)(e.transferMetrics.map(function(t,r){return(0,i._)((0,s._)({},t),{generation:e.trainingMetrics.length+r})}))),n=!0,a=!1,o=void 0;try{for(var c,d=r[Symbol.iterator]();!(n=(c=d.next()).done);n=!0){var x=c.value;t.has(x.generation)||t.set(x.generation,{speed:[],size:[],sense:[]});var u=t.get(x.generation);u.speed.push(x.meanSpeed),u.size.push(x.meanSize),u.sense.push(x.meanSenseRange)}}catch(e){a=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(a)throw o}}}()}catch(e){n=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw a}}return(0,N._)(t.entries()).sort(function(e,t){return(0,o._)(e,1)[0]-(0,o._)(t,1)[0]}).map(function(e){var t=(0,o._)(e,2),r=t[0],n=t[1];return{generation:r,meanSpeed:n.speed.reduce(function(e,t){return e+t},0)/n.speed.length,meanSize:n.size.reduce(function(e,t){return e+t},0)/n.size.length,meanSenseRange:n.sense.reduce(function(e,t){return e+t},0)/n.sense.length}})}(l),y=F(l,"training",function(e){return e.meanFoodEaten}),b=F(c,"training",function(e){return e.meanFoodEaten}),j=F(l,"transfer",function(e){return e.meanFoodEaten},5),v=F(c,"transfer",function(e){return e.meanFoodEaten},5),S=T(l,function(e){return e.meanFoodEaten}),w=T(c,function(e){return e.meanFoodEaten}),k=F(l,"training",function(e){return e.traitDiversity}),M=F(c,"training",function(e){return e.traitDiversity}),B=z(l),C=z(c),G=t.gridSearchResult.entries.length,P=l.map(function(e){var t=0,r=!0,n=!1,a=void 0;try{for(var s,i=e.trainingMetrics[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;t+=o.computationSteps}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var l=!0,c=!1,d=void 0;try{for(var x,u=e.transferMetrics[Symbol.iterator]();!(l=(x=u.next()).done);l=!0){var h=x.value;t+=h.computationSteps}}catch(e){c=!0,d=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw d}}return t}),I=c.map(function(e){var t=0,r=!0,n=!1,a=void 0;try{for(var s,i=e.trainingMetrics[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;t+=o.computationSteps}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var l=!0,c=!1,d=void 0;try{for(var x,u=e.transferMetrics[Symbol.iterator]();!(l=(x=u.next()).done);l=!0){var h=x.value;t+=h.computationSteps}}catch(e){c=!0,d=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw d}}return t}),O=[{metric:"Final training fitness",result:E(y,b)},{metric:"Transfer fitness (gen 1-5)",result:E(j,v)},{metric:"Generalization gap",result:E(S,w)},{metric:"Final trait diversity",result:E(k,M)},{metric:"Total computation steps",result:E(P,I)}];return{fitnessTraining:x,fitnessTransfer:u,popTraining:h,popTransfer:m,divTraining:f,divTransfer:p,traitEvolution:g,etGap:S,gsGap:w,etSteps:B,gsSteps:C,gsSearchEvals:G,statRows:O,etCreatures:null!==(n=null===(e=l[0])||void 0===e?void 0:e.finalCreatures)&&void 0!==n?n:[],gsCreatures:null!==(a=null===(r=c[0])||void 0===r?void 0:r.finalCreatures)&&void 0!==a?a:[],config:d}},[t]);return(0,n.jsxs)(h.E.section,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-5xl mx-auto px-6 py-12 space-y-16",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"font-serif text-2xl text-text-primary mb-2 border-b border-bg-tertiary pb-3",children:"Results"}),(0,n.jsxs)("p",{className:"text-sm text-text-muted mt-4 font-sans",children:["Grid search found optimal configuration: speed=",t.gridSearchResult.bestSpeed,", size=",t.gridSearchResult.bestSize,", senseRange=",t.gridSearchResult.bestSenseRange,"(fitness=",t.gridSearchResult.bestFitness.toFixed(2),")."]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"font-serif text-xl text-text-primary",children:"Training Phase (Environment 1)"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(K,{data:r.fitnessTraining,title:"Fitness Over Training"}),(0,n.jsx)(W,{data:r.popTraining,title:"Population Over Training"})]}),(0,n.jsx)(A,{data:r.divTraining,title:"Trait Diversity Over Training"})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"font-serif text-xl text-text-primary",children:"Transfer Phase (Environment 2)"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(K,{data:r.fitnessTransfer,title:"Fitness During Transfer"}),(0,n.jsx)(Q,{etGaps:r.etGap,gsGaps:r.gsGap})]}),(0,n.jsx)(W,{data:r.popTransfer,title:"Population During Transfer"})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"font-serif text-xl text-text-primary",children:"Trait Evolution"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(V,{data:r.traitEvolution,trainingGens:r.config.trainingGenerations}),(0,n.jsx)(Z,{etCreatures:r.etCreatures,gsCreatures:r.gsCreatures})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"font-serif text-xl text-text-primary",children:"Computational Efficiency"}),(0,n.jsx)(ee,{etSteps:r.etSteps,gsSteps:r.gsSteps,gsSearchEvals:r.gsSearchEvals}),(0,n.jsx)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6",children:(0,n.jsxs)("table",{className:"w-full text-sm font-mono",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary text-text-muted",children:[(0,n.jsx)("th",{className:"text-left py-2",children:"Metric"}),(0,n.jsx)("th",{className:"text-right py-2",children:"ET"}),(0,n.jsx)("th",{className:"text-right py-2",children:"GS"})]})}),(0,n.jsxs)("tbody",{className:"text-text-secondary",children:[(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2",children:"Total simulation steps"}),(0,n.jsx)("td",{className:"text-right",children:r.etSteps.toLocaleString()}),(0,n.jsx)("td",{className:"text-right",children:r.gsSteps.toLocaleString()})]}),(0,n.jsxs)("tr",{className:"border-b border-bg-tertiary/50",children:[(0,n.jsx)("td",{className:"py-2",children:"Grid search evaluations"}),(0,n.jsx)("td",{className:"text-right",children:"0"}),(0,n.jsx)("td",{className:"text-right",children:r.gsSearchEvals})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"py-2",children:"Wall-clock time"}),(0,n.jsxs)("td",{className:"text-right",colSpan:2,children:[(t.wallClockMs/1e3).toFixed(1),"s total"]})]})]})]})})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"font-serif text-xl text-text-primary",children:"Statistical Summary"}),(0,n.jsx)(en,{rows:r.statRows})]})]})}function es(e,t){for(var r=["run,seed,generation,population,meanFoodEaten,survivalRate,reproductionRate,meanSpeed,meanSize,meanSenseRange,speedVariance,sizeVariance,senseRangeVariance,traitDiversity,creaturesEaten,computationSteps"],n=0;n<e.length;n++){var a="training"===t?e[n].trainingMetrics:e[n].transferMetrics,s=!0,i=!1,o=void 0;try{for(var l,c=a[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var d=l.value;r.push([n+1,e[n].seed,d.generation,d.population,d.meanFoodEaten,d.survivalRate,d.reproductionRate,d.meanSpeed,d.meanSize,d.meanSenseRange,d.speedVariance,d.sizeVariance,d.senseRangeVariance,d.traitDiversity,d.creaturesEaten,d.computationSteps].join(","))}}catch(e){i=!0,o=e}finally{try{s||null==c.return||c.return()}finally{if(i)throw o}}}return r.join("\n")}function ei(e,t){var r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,a.click(),URL.revokeObjectURL(n)}function eo(e){var t=e.results,r=function(e){switch(e){case"et-training":ei(es(t.etRuns,"training"),"et_training_metrics.csv");break;case"et-transfer":ei(es(t.etRuns,"transfer"),"et_transfer_metrics.csv");break;case"gs-training":ei(es(t.gsRuns,"training"),"gs_training_metrics.csv");break;case"gs-transfer":ei(es(t.gsRuns,"transfer"),"gs_transfer_metrics.csv");break;case"grid-search":ei(function(e){var t=["speed,size,senseRange,meanFoodEaten,populationSurvived"],r=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;t.push([o.speed,o.size,o.senseRange,o.meanFoodEaten,o.populationSurvived].join(","))}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return t.join("\n")}(t.gridSearchResult.entries),"grid_search_results.csv")}};return(0,n.jsxs)(h.E.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-4xl mx-auto px-6 py-12",children:[(0,n.jsx)("h2",{className:"font-serif text-2xl text-text-primary mb-8 border-b border-bg-tertiary pb-3",children:"Raw Data Export"}),(0,n.jsxs)("div",{className:"bg-bg-secondary border border-bg-tertiary rounded-lg p-6 space-y-4",children:[(0,n.jsxs)("p",{className:"text-sm text-text-secondary mb-4",children:["Download raw per-generation metrics for all ",t.config.numRuns," runs as CSV files."]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[[{key:"et-training",label:"ET Training"},{key:"et-transfer",label:"ET Transfer"},{key:"gs-training",label:"GS Training"},{key:"gs-transfer",label:"GS Transfer"},{key:"grid-search",label:"Grid Search (216)"}].map(function(e){return(0,n.jsxs)("button",{onClick:function(){return r(e.key)},className:"px-4 py-2 text-xs font-mono text-text-secondary border border-bg-tertiary rounded hover:bg-bg-tertiary hover:text-text-primary transition-colors",children:[e.label," CSV"]},e.key)}),(0,n.jsx)("button",{onClick:function(){navigator.clipboard.writeText(JSON.stringify(t.config,null,2))},className:"px-4 py-2 text-xs font-mono text-accent-et border border-accent-et/30 rounded hover:bg-accent-et/10 transition-colors",children:"Copy Config JSON"})]})]})]})}function el(){return(0,n.jsxs)(h.E.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-4xl mx-auto px-6 py-12",children:[(0,n.jsx)("h2",{className:"font-serif text-2xl text-text-primary mb-8 border-b border-bg-tertiary pb-3",children:"Methodology Notes"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(p,{title:"Reproducibility",children:(0,n.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:"All simulation randomness flows through a single seedable PRNG (seedrandom). Each run uses a sequential seed (1000–1029). Running the experiment with the same seeds on the same platform produces byte-identical results. Floating-point operations are deterministic on a single architecture. Creature processing order is deterministic (shuffled each step with the seeded PRNG)."})}),(0,n.jsx)(p,{title:"Limitations & Caveats",children:(0,n.jsxs)("ul",{className:"text-sm text-text-secondary leading-relaxed space-y-2 list-disc list-inside",children:[(0,n.jsx)("li",{children:"The simulation uses simplified 2D physics, which limits the complexity of behaviors that can emerge through evolution."}),(0,n.jsx)("li",{children:"Grid search explores only 216 trait combinations; finer resolution or Bayesian optimization could find better configurations."}),(0,n.jsx)("li",{children:"Population size (50) is small relative to real evolutionary systems, which may amplify genetic drift effects."}),(0,n.jsx)("li",{children:"Environmental shift is a single discrete change rather than gradual or continuous."}),(0,n.jsx)("li",{children:"JavaScript floating-point precision may differ slightly across platforms (though results should be consistent within a single browser session)."})]})}),(0,n.jsx)(p,{title:"How to Replicate",children:(0,n.jsxs)("ol",{className:"text-sm text-text-secondary leading-relaxed space-y-2 list-decimal list-inside",children:[(0,n.jsx)("li",{children:"Open this page in any modern browser (Chrome, Firefox, Safari, Edge)."}),(0,n.jsx)("li",{children:"Click “Run Experiment” and wait for completion."}),(0,n.jsx)("li",{children:"Download the CSV files from the Raw Data Export section."}),(0,n.jsx)("li",{children:"Verify that running the experiment again with the same configuration produces identical CSV output."}),(0,n.jsx)("li",{children:"To use different parameters, modify the experiment config (available via “Copy Config JSON”) and update the source code."})]})}),(0,n.jsxs)(p,{title:"Source Code",children:[(0,n.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed",children:"The simulation engine is a faithful TypeScript port of the original Rust/WASM Evolution Simulator by MinuteLabs. The experiment framework, statistical analysis, and visualization layer were built on top of this engine."}),(0,n.jsx)("p",{className:"text-sm text-text-secondary leading-relaxed mt-2",children:"Source code is available at the project repository."})]})]})]})}function ec(){var e=u().state;return(0,n.jsxs)("main",{className:"min-h-screen",children:[(0,n.jsx)(m,{}),(0,n.jsx)("div",{className:"border-t border-bg-tertiary"}),(0,n.jsx)(y,{}),(0,n.jsx)("div",{className:"border-t border-bg-tertiary"}),(0,n.jsx)(v,{}),"complete"===e.status&&e.results&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"border-t border-bg-tertiary"}),(0,n.jsx)(ea,{results:e.results}),(0,n.jsx)("div",{className:"border-t border-bg-tertiary"}),(0,n.jsx)(eo,{results:e.results})]}),(0,n.jsx)("div",{className:"border-t border-bg-tertiary"}),(0,n.jsx)(el,{}),(0,n.jsx)("footer",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:(0,n.jsx)("p",{className:"text-xs font-mono text-text-muted",children:"Built with Next.js \xb7 Simulation engine ported from Evolution Simulator by MinuteLabs"})})]})}function ed(){return(0,n.jsx)(x,{children:(0,n.jsx)(ec,{})})}}},function(e){e.O(0,[937,971,117,744],function(){return e(e.s=1559)}),_N_E=e.O()}]);